(function(t){function e(e){for(var o,n,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)n=s[l],r[n]&&d.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],o=!0,n=1;n<i.length;n++){var s=i[n];0!==r[s]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=i[0]))}return t}var o={},n={app:0},r={app:0},a=[];function s(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"6988176d"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(t){var e=[],i={about:1};n[t]?e.push(n[t]):0!==n[t]&&i[t]&&e.push(n[t]=new Promise(function(e,i){for(var o="css/"+({about:"about"}[t]||t)+"."+{about:"abc9fcfe"}[t]+".css",r=c.p+o,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===r))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===o||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.request=o,delete n[t],f.parentNode.removeChild(f),i(a)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){n[t]=0}));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise(function(e,i){o=r[t]=[e,i]});e.push(o[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t),u=function(e){l.onerror=l.onload=null,clearTimeout(d);var i=r[t];if(0!==i){if(i){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+n+")");a.type=o,a.request=n,i[1](a)}r[t]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(i,o,function(e){return t[e]}.bind(null,o));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/timeship-vue/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"051f":function(t,e,i){},"0c59":function(t,e,i){"use strict";var o=i("f62e"),n=i.n(o);n.a},"16f7":function(t,e,i){"use strict";var o=i("051f"),n=i.n(o);n.a},"2f56":function(t,e,i){"use strict";var o=i("9b80"),n=i.n(o);n.a},4670:function(t,e,i){"use strict";var o=i("9eac"),n=i.n(o);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var o,n=i("2b0e"),r=i("0086"),a=i.n(r),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"layout"},[i("NavTime",{attrs:{timer:t.isTimerOn}}),i("router-view")],1)])},c=[],u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-time"},[i("div",{staticClass:"container"},[i("span",{staticClass:"utc-title"},[t._v("UTC Time")]),i("span",{staticClass:"utc-time"},[t._v(" "+t._s(t._f("makeTime")(t.getDate))+" ")]),i("span",{staticClass:"utc-day"},[t._v(" "+t._s(t._f("makeDay")(t.getDate))+" ")])])])},l=[],d=i("bd86"),f=i("1e66"),h=(o={name:"NavTime",props:["timer"]},Object(d["a"])(o,"props",{timer:{type:Boolean,default:!1}}),Object(d["a"])(o,"data",function(){return{utcOffSet:"+00:00"}}),Object(d["a"])(o,"computed",{getDate:function(){return"---"!==this.$store.state.date?f["a"].fromMillis(this.$store.state.date).setZone("UTC".concat(this.utcOffSet)):"---"}}),Object(d["a"])(o,"filters",{makeDay:function(t){return"---"!==t?t.toFormat("cccc, MMM dd"):t},makeTime:function(t){return"---"!==t?t.toFormat("hh:mm a"):t}}),Object(d["a"])(o,"mounted",function(){this.timer&&this.$store.dispatch("starttime")}),o),m=h,p=(i("6514"),i("2877")),v=Object(p["a"])(m,u,l,!1,null,"3357c730",null),g=v.exports,b={name:"app",components:{NavTime:g},computed:{isTimerOn:function(){return!this.$route.query.timer||"off"!==this.$route.query.timer}}},y=b,C=(i("5c0b"),Object(p["a"])(y,s,c,!1,null,null,null)),T=C.exports,_=i("8c4f"),M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("Cities"),i("Control")],1)},w=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cities"},[i("div",{staticClass:"container"},[i("draggable",{attrs:{disabled:!t.isEditMode,handle:".handle"},model:{value:t.cityList,callback:function(e){t.cityList=e},expression:"cityList"}},t._l(t.cityList,function(e,o){return i("City",{key:e.city_id,attrs:{itr:e.city_id,pos:o,name:e.name,country:e.country_name,timezone:e.timezone,date:t.date}})}),1),t.totalCities<1?i("Info"):t._e(),t.isTutorialMode&&t.totalCities<1&&!t.isEditMode?i("Tooltip",{attrs:{pin:"bottom",name:"add-tooltip"}},[t._v("Add New City")]):t._e(),t.isTutorialMode&&1===t.totalCities&&!t.isEditMode?i("Tooltip",{attrs:{pin:"bottom",name:"add-another-tooltip"}},[t._v("Add Another City")]):t._e(),t.isTutorialMode&&t.totalCities>1&&!t.isEditMode?i("Tooltip",{attrs:{pin:"top",name:"edit-mode-tooltip"}},[t._v("Long Press a city and Release, to activate edit mode")]):t._e(),t.isTutorialMode&&t.totalCities>1&&t.isEditMode&&t.isSortTutorial?i("Tooltip",{attrs:{pin:"top",name:"sort-tooltip"}},[t._v("Sort Using Handle")]):t._e(),t.isTutorialMode&&t.totalCities>1&&t.isEditMode&&!t.isSortTutorial?i("Tooltip",{attrs:{pin:"bottom",name:"accept-tooltip"}},[t._v("Deactivate Edit Mode")]):t._e()],1)])},E=[],O=i("cebc"),L=i("2f62"),$=i("1980"),j=i.n($),x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"touch",rawName:"v-touch:longtap",value:t.onlongpress,expression:"onlongpress",arg:"longtap"}],staticClass:"city",class:[{"edit-mode":t.isEditMode},t.getPhaseOfTheDay]},[i("a",{directives:[{name:"show",rawName:"v-show",value:t.isEditMode,expression:"isEditMode"}],staticClass:"handle",class:{pulse:t.isHandlePulse},attrs:{href:"#"}},[i("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M12 18c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3zm0-9c1.657 0 3 1.343 3 3s-1.343 3-3 3-3-1.343-3-3 1.343-3 3-3z"}})])]),i("div",{staticClass:"row-1"},[i("span",{staticClass:"name"},[t._v(t._s(t.name))])]),i("div",{staticClass:"row-2"},[i("span",{staticClass:"time-12"},[t._v(t._s(t._f("makeTime")(t.getDate))),i("span",{staticClass:"time-am"},[t._v(t._s(t._f("makeAm")(t.getDate)))])])]),i("div",{staticClass:"row-3"},[i("span",{staticClass:"date-month"},[t._v(t._s(t._f("makeDay")(t.getDate)))]),i("div",{staticClass:"country"},[i("span",[t._v(t._s(t._f("formatCountryName")(t.country,t.maxCountryLength,t.fillerString)))])])]),i("a",{directives:[{name:"show",rawName:"v-show",value:t.isEditMode,expression:"isEditMode"}],staticClass:"close",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteCity(t.itr)}}},[i("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.5 16.084L16.097 17.5l-4.09-4.096L7.905 17.5 6.5 16.095l4.093-4.092L6.5 7.905 7.905 6.5l4.088 4.089L16.084 6.5 17.5 7.903l-4.092 4.087 4.092 4.094z"}})])])])},k=[],A=(i("c5f6"),{name:"City",props:{country:{type:String,required:!0},name:{type:String,required:!0},timezone:{type:String,required:!0},date:[String,Object],itr:String,pos:Number},data:function(){return{maxCountryLength:25,fillerString:"..."}},computed:Object(O["a"])({getDate:function(){return"---"!==this.date?this.date.setZone("UTC".concat(this.timezone)):"---"},isHandlePulse:function(){return this.$store.state.isTutorialMode&&this.pos===this.$store.getters.totalCities-1&&this.$store.getters.totalCities>1&&this.$store.state.isEditMode&&this.$store.state.isSortTutorial},getPhaseOfTheDay:function(){if("---"===this.date||this.$store.state.isEditMode)return"no-phase";var t=this.getDate.hour;return t>=4&&t<7?"early-morning":t>=7&&t<12?"morning":t>=12&&t<17?"afternoon":t>=17&&t<20?"evening":"night"}},Object(L["c"])(["isEditMode"])),filters:{makeDay:function(t){return"---"!==t?t.toFormat("ccc, MMM dd"):t},makeAm:function(t){return"---"!==t?t.toFormat("a"):t},makeTime:function(t){return"---"!==t?t.toFormat("h:mm"):t},formatCountryName:function(t,e,i){var o=t;return o.length>e&&(o="".concat(o.substring(0,e-i.length)).concat(i)),o}},methods:{deleteCity:function(t){this.$store.dispatch("deleteCity",{itr:t})},onlongpress:function(){this.$store.dispatch("toggleEditMode","on")}}}),D=A,N=(i("16f7"),Object(p["a"])(D,x,k,!1,null,"4984ab76",null)),P=N.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tooltip",class:t.name},[i("div",{staticClass:"holder"},[t._t("default"),i("div",{staticClass:"pin",class:t.pin},[i("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"}})])])],2)])},F=[],B={name:"Tooltip",props:{name:{type:String,required:!0},pin:{default:function(){return"none"},validator:function(t){return-1!==["top","right","bottom","left","none"].indexOf(t)}}}},q=B,H=(i("0c59"),Object(p["a"])(q,z,F,!1,null,"5c629490",null)),I=H.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTutorialMode?t._e():i("div",{staticClass:"info",style:t.getMovingInfopposition},[i("a",{staticClass:"info-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.turnOnTutorialMode(e)}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2.033 16.01c.564-1.789 1.632-3.932 1.821-4.474.273-.787-.211-1.136-1.74.209l-.34-.64c1.744-1.897 5.335-2.326 4.113.613-.763 1.835-1.309 3.074-1.621 4.03-.455 1.393.694.828 1.819-.211.153.25.203.331.356.619-2.498 2.378-5.271 2.588-4.408-.146zm4.742-8.169c-.532.453-1.32.443-1.761-.022-.441-.465-.367-1.208.164-1.661.532-.453 1.32-.442 1.761.022.439.466.367 1.209-.164 1.661z"}})])])])},J=[],V={name:"Info",methods:{turnOnTutorialMode:function(){this.$store.dispatch("toggleTutorialMode","on"),this.$store.dispatch("toggleSortTutorial","on")}},computed:Object(O["a"])({},Object(L["c"])(["isTutorialMode"]),Object(L["b"])(["totalCities"]),{getMovingInfopposition:function(){return this.totalCities>4?"bottom: initial; top: ".concat(100*this.totalCities+50,"px"):""}})},Z=V,G=(i("bcd1"),Object(p["a"])(Z,U,J,!1,null,"73938564",null)),R=G.exports,K={name:"Cities",components:{City:P,draggable:j.a,Tooltip:I,Info:R},mounted:function(){this.sortableCities=this.$store.state.cityList},computed:Object(O["a"])({date:function(){return"---"!==this.$store.state.date?f["a"].fromMillis(this.$store.state.date):"---"},cityList:{get:function(){return this.$store.state.cityList},set:function(t){this.$store.dispatch("updateCities",{cities:t})}}},Object(L["c"])(["isTutorialMode","isSortTutorial","isEditMode"]),Object(L["b"])(["totalCities"])),watch:{cityList:function(t,e){t.length===e.length&&t!==e&&this.$store.dispatch("toggleSortTutorial","off"),t.length<1&&this.$store.dispatch("toggleEditMode","off")}}},Q=K,W=(i("f7ff"),Object(p["a"])(Q,S,E,!1,null,"095d24cb",null)),X=W.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control"},[i("div",{staticClass:"container"},[i("div",{staticClass:"control-body"},[t.isEditMode?i("a",{staticClass:"btn done-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.turnOffTutorial(e)}}},[i("span",{staticClass:"btn__round",class:{pulse:t.isDonePulse}},[i("svg",{attrs:{width:"100%",height:"100%",viewBox:"0 0 24 24"}},[i("path",{attrs:{d:"M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z"}})])])]):i("a",{staticClass:"btn add-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.redirectToSearch(e)}}},[i("span",{staticClass:"btn__round",class:{pulse:t.isAddPulse}},[i("svg",{attrs:{viewBox:"0 0 24 24",width:"100%",height:"100%"}},[i("path",{attrs:{d:"M24 10H14V0h-4v10H0v4h10v10h4V14h10z"}})])])])])])])},tt=[],et={name:"Control",computed:Object(O["a"])({},Object(L["c"])(["isEditMode","isTutorialMode","isSortTutorial"]),Object(L["b"])(["totalCities"]),{isAddPulse:function(){return this.isTutorialMode&&this.totalCities<2&&!this.isEditMode},isDonePulse:function(){return this.isTutorialMode&&this.isEditMode&&!this.isSortTutorial}}),methods:{redirectToSearch:function(){this.$router.push({name:"add"})},turnOffTutorial:function(){this.$store.dispatch("toggleEditMode","off"),this.$store.dispatch("toggleTutorialMode","off"),this.$store.state.isFirstStart&&this.$store.dispatch("disableTutorialAutoLaunch")}}},it=et,ot=(i("2f56"),Object(p["a"])(it,Y,tt,!1,null,"27626faa",null)),nt=ot.exports,rt={name:"home",components:{Cities:X,Control:nt},mounted:function(){this.$store.state.isFirstStart&&(this.$store.dispatch("toggleTutorialMode","on"),this.$store.dispatch("toggleSortTutorial","on"))}},at=rt,st=(i("4670"),Object(p["a"])(at,M,w,!1,null,"773f40ac",null)),ct=st.exports;n["a"].use(_["a"]);var ut=new _["a"]({routes:[{path:"/",name:"home",component:ct,meta:{title:"Timeship - Home"}},{path:"/add",name:"add",meta:{title:"Timeship - Add City"},component:function(){return i.e("about").then(i.bind(null,"2d3b"))}}]}),lt=(i("7514"),i("7f7f"),i("ac6a"),i("0a0d")),dt=i.n(lt),ft=i("bfa9"),ht=i("795b"),mt=i.n(ht),pt=i("f5ec"),vt=function(t){return new mt.a(function(e,i){Object(pt["GetAllPlaces"])().then(function(i){var o=i.filter(function(t){return t.country_id}),n=i.filter(function(e){return e.city_id&&0===e.name.toLowerCase().indexOf(t.trim().toLowerCase())});n.forEach(function(t){var e=o.find(function(e){return e.country_code===t.country_code}),i=e.name,n=e.country_code;t.country_name=i,t.country=n}),e(n)}).catch(function(t){i(t)})})};n["a"].use(L["a"]);var gt=new ft["a"]({key:"timeship-vue-storage",storage:localStorage,reducer:function(t){return{cityList:t.cityList,isFirstStart:t.isFirstStart}}}),bt=new L["a"].Store({state:{date:"---",controlButton:"",cityList:[],searchCityList:[],isTutorialMode:!1,isEditMode:!1,isSortTutorial:!0,isFirstStart:!0},mutations:{increment:function(t){t.date=dt()()},removeCity:function(t,e){var i=t.cityList.filter(function(t){return t.city_id!==e.itr});t.cityList=i},sortCities:function(t,e){var i=[];e.forEach(function(t){var e=t.city_id,o=t.country,n=t.country_name,r=t.date,a=t.name,s=t.timezone;i.push({city_id:e,country:o,country_name:n,date:r,name:a,timezone:s})}),t.cityList=i},switchControl:function(t,e){t.controlButton=e},populateSearchList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.searchCityList=e},pushNewCity:function(t,e){var i=t.searchCityList.find(function(t){return t.city_id===e})||null,o=t.cityList.find(function(t){return t.city_id===e})||null;i&&!o&&t.cityList.push(i)},cleanSearch:function(t){t.searchCityList=[]},enableEditMode:function(t){t.isEditMode=!0},disableEditMode:function(t){t.isEditMode=!1},enableTutorialMode:function(t){t.isTutorialMode=!0},disableTutorialMode:function(t){t.isTutorialMode=!1},enableSortTutorial:function(t){t.isSortTutorial=!0},disableSortTutorial:function(t){t.isSortTutorial=!1},disableTutorialAutoLaunch:function(t){t.isFirstStart=!1}},actions:{starttime:function(t){var e=function e(){t.commit("increment"),requestAnimationFrame(e)};e()},deleteCity:function(t,e){t.commit("removeCity",e)},updateCities:function(t,e){e&&e.cities&&e.cities.length&&t.commit("sortCities",e.cities)},setControl:function(t,e){t.commit("switchControl",e.control||"")},requestCityApi:function(t,e){vt(e.searchTerm).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.commit("populateSearchList",e),console.log(e)}).catch(function(t){console.log(t)})},addCity:function(t,e){var i=e.cityId;i&&t.commit("pushNewCity",i)},clearSearchList:function(t){t.commit("cleanSearch")},toggleEditMode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"off";"on"===e?t.commit("enableEditMode"):t.commit("disableEditMode")},toggleTutorialMode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"off";"on"===e?t.commit("enableTutorialMode"):t.commit("disableTutorialMode")},toggleSortTutorial:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on";"on"===e?t.commit("enableSortTutorial"):t.commit("disableSortTutorial")},disableTutorialAutoLaunch:function(t){t.commit("disableTutorialAutoLaunch")}},getters:{totalCities:function(t){return t.cityList.length}},plugins:[gt.plugin]}),yt=i("9483");Object(yt["a"])("".concat("/timeship-vue/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["a"].config.productionTip=!1,n["a"].use(a.a),ut.beforeEach(function(t,e,i){document.title=t.meta.title,i()}),new n["a"]({router:ut,store:bt,render:function(t){return t(T)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var o=i("5e27"),n=i.n(o);n.a},"5e27":function(t,e,i){},6514:function(t,e,i){"use strict";var o=i("be54"),n=i.n(o);n.a},"68a7":function(t,e,i){},"842a":function(t,e,i){},"9b80":function(t,e,i){},"9eac":function(t,e,i){},bcd1:function(t,e,i){"use strict";var o=i("842a"),n=i.n(o);n.a},be54:function(t,e,i){},f62e:function(t,e,i){},f7ff:function(t,e,i){"use strict";var o=i("68a7"),n=i.n(o);n.a}});
//# sourceMappingURL=app.ea048620.js.map